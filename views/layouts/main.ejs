<!DOCTYPE html>
<html lang="nb">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            <%= typeof title !== 'undefined' ? title : 'Fiks Ferdig - Todo App'
            %>
        </title>
        <link rel="stylesheet" href="/css/style.css" />
        <!-- Include Font Awesome for icons -->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        />
    </head>
    <body>
        <header>
            <div class="container">
                <nav class="navbar">
                    <a href="/" class="logo">Fiks Ferdig</a>
                    <ul class="nav-links">
                        <% if (locals.user) { %>
                        <li>
                            <a href="/"><i class="fas fa-home"></i> Home</a>
                        </li>
                        <li>
                            <a href="/family"
                                ><i class="fas fa-users"></i> Family</a
                            >
                        </li>
                        <% if (locals.user.username === 'admin') { %>
                        <li>
                            <a href="/veiledning"
                                ><i class="fas fa-book"></i> Documentation</a
                            >
                        </li>
                        <% } %>
                        <li>
                            <a href="#" id="logout-button"
                                ><i class="fas fa-sign-out-alt"></i> Log Out</a
                            >
                        </li>
                        <li class="username">
                            <i class="fas fa-user"></i> <%= locals.user.username
                            %>
                        </li>
                        <% } else { %>
                        <li>
                            <a href="/sign-in"
                                ><i class="fas fa-sign-in-alt"></i> Log In</a
                            >
                        </li>
                        <li>
                            <a href="/sign-up"
                                ><i class="fas fa-user-plus"></i> Sign Up</a
                            >
                        </li>
                        <% } %>
                    </ul>
                </nav>
            </div>
        </header>

        <main><%- body %></main>

        <!-- Common JavaScript -->
        <script src="/js/auth.js"></script>

        <!-- Page-specific JavaScript -->
        <% if (typeof scripts !== 'undefined') { %> <% if
        (Array.isArray(scripts)) { %> <% scripts.forEach(function(script) { %>
        <script src="<%= script %>"></script>
        <% }); %> <% } else if (typeof scripts === 'string') { %>
        <script src="<%= scripts %>"></script>
        <% } %> <% } %>

        <!-- Content for script section -->
        <%- typeof script !== 'undefined' ? script : '' %>
    </body>
</html>
